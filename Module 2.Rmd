---
title: "DATA2002 Module 2 Report"
author: '470336432, SARAHID, SAYANOID'
date: "S2 2019"
output: html_document
---

# 1. Data Cleaning

### 1.1 Data Import

```{r, echo=FALSE, message=FALSE}
library(plyr)
library(dplyr)
library(tidyverse)
```

```{r, message=FALSE}
options(scipen=999) # stops the scientific notation
x = readr::read_csv("data.csv", na = c("NA",""," ", "n/a"))
```

### 1.2 Gender Clean

Re-coding the gender column to make life easier

```{r}
x$Gender <- toupper(mapvalues(x$Gender %>% tolower,
                              from=c("female", "male", "man"),
                              to=c("f", "m", "m")))
x <- x %>% mutate(`Gender` = fct_lump(`Gender`, n = 2, other_level = NA))
x
```

### 1.3 Shoe Size Clean

Re-coding the shoe sizes (using https://www.finder.com.au/shoe-size-conversion-guide and only converting those clearly EU to what it says the equivalent AUS size is, likely slight discrepancies with the whole UK/US thing but nothing we can do about that)

```{r}
x <- x %>%
  mutate(`What is your shoe size?` = 
           case_when(`Gender` == "M" ~
                       recode_factor(as.character(`What is your shoe size?`),
                                     "35.5"="3", "37"="4","38"="5","39"="6","40"="6",
                                     "40.5"="7","41"="7.5","42"="8","42.5"="8.5","43"="9",
                                     "44"="9.5","44.5"="10","45"="10.5","46"="11",
                                     "47"="12","48"="13","49.5"="14"),
                    `Gender` == "F" ~
                        recode_factor(as.character(`What is your shoe size?`),
                                      "35"="4","36"="5","37"="6","38"="7","39"="8",
                                      "40"="9","41"="10","42"="11")))
```

Which works! I've split it by gender and refactored accordingly.

```{r}
x$`What is your shoe size?`
```

Only problem is, to do this, I had to convert the column into a factor variable rather than as numeric, so to now make the outliers (30, 2000, etc) NA values, I'd need to convert it back into numeric. Should be easy right?

```{r}
as.numeric(x$`What is your shoe size?`)
```

Apparently tf not. What the heck. All I do is tell it to be numeric again and this suave mf-er decides "you know what would be cooler? if I just didn't lol". Any thoughts?? This breaks my brain

# 2. Data Exploration

Q1. Is this a random sample of DATA2002 students?
No, this is not a random sample of DATA2002 students as not all students have answered the survey. THis means that it is only for students had the time and decided to answer hte questions. 

Q2. What are the potential biases in this data generation?
There could be some measurement biases in the data such as the some questions may be interpreted differently to different students. 

Q3. Which variables are most likely to be subjected to this bias?
For example, the hours or uni work spent last semester, some students may have thought the hours they spent studying outside of uni hours, or some students may have thought of the hours sspent at uni time and outside of uni time. This would have skewed the data as students would ahve answered it differently. 

# 3. Data Analysis

Q4. Is there any evidence to suggest that there's a difference in the amount of exercise done by people who eat red meat compared to people who don't eat red meat?
```{r}
sample$how_do_you_like_your_steak_cooked[sample$how_do_you_like_your_steak_cooked=="Well done"] = "eat red meat"
sample$how_do_you_like_your_steak_cooked[sample$how_do_you_like_your_steak_cooked=="Rare"] = "eat red meat"
sample$how_do_you_like_your_steak_cooked[sample$how_do_you_like_your_steak_cooked=="Medium"] = "eat red meat"
sample$how_do_you_like_your_steak_cooked[sample$how_do_you_like_your_steak_cooked=="Medium-rare"] = "eat red meat"
sample$how_do_you_like_your_steak_cooked[sample$how_do_you_like_your_steak_cooked=="Medium-well done"] = "eat red meat"
red_meat = sample %>% dplyr::count(`how_do_you_like_your_steak_cooked`,)
eat_red_meat=c(21,18,11,14,2,7,27)
no_red_meat=c(0,3,1,0,0,1,2)
(meat <- with(sample, table(how_do_you_like_your_steak_cooked, how_many_hours_a_week_do_you_spend_exercising)))
c(mean(no_red_meat), mean(eat_red_meat))
```

Q5. Is there any evidence that the weekly exercise time of students who participate in more than 3 university clubs is different to those who don't?
```{r}
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="0"] = "0-1"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="0.5"] = "0-1"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="1"] = "1-2"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="2"] = "1-2"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="2.5"] = "2-3"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="2.75"] = "2-3"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="3"] = "2-3"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="3.5"] = "3-4"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="3.75"] = "3-4"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="4"] = "4-5"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="5"] = "5-9"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="6"] = "5-9"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="7"] = "5-9"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="8"] = "5-9"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="10"] = "10+"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="12"] = "10+"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="14"] = "10+"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="20"] = "10+"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="420"] = "NA"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="09999900"] = "NA"
sample$how_many_hours_a_week_do_you_spend_exercising[sample$how_many_hours_a_week_do_you_spend_exercising=="9223372036854775808"] = "NA"
(gender_hand <- with(sample, table(how_many_hours_a_week_do_you_spend_exercising, how_many_university_clubs_are_you_a_member_of)))
```

Q6. Is there evidence that students who live with their parents study more hours per week than students who don't live with their parents?

# 4. Further Data Analysis

Our 3 additional questions.